[{"kind":1,"language":"markdown","value":"### Byzer彩蛋功能 - 群发个性+定制化邮件！\n你知道Byzer除了可以作为敲代码加速器之外！\n还有一个很常用的功能 - 就是 群发 个性化 定制化 的邮件！\nMarketing 和 Sales 的同学经常需要发上百上千封邮件\n但是 一般会遇到以下的痛点：\n1. 通过第三方软件发送邮件 经常会被拉黑名单 => 无效广告\n2. 有时候 不能定制化 称谓\n3. 最重要的是 烧钱！！！\n\n所以 Byzer 作为免费群发广告邮件的神器 欢迎大家试用哈 😉\n\n#### Step 1: 创建mailing list， 录入email + firstname + family name\n#### Step 2: 申请发件邮箱授权码 - 具体可以百度 + google\n#### Step 3: 敲代码","outputs":[]},{"kind":2,"language":"mlsql","value":"SET EMAIL_CC = \"xxxxx抄送邮箱xxxxxx\";\nSET USERNAME = \"xxxxx发件邮箱xxxxx\";\nSET PWD = \"xxxxx发件邮箱授权码xxxxxx\";\nSET HOST = \"xxxxx发件邮箱Hostxxxxxx\";\nSET PORT = \"xxxxx发件邮箱Portxxxxxx\";\n\n-- import mailing list\nload excel.`./sample_data/email/mailing_list.xlsx`\nwhere header=\"true\"\nas mailing_list;\n\nselect \n  email as to,\n  concat(\"致最可爱的\",firstname) as subject,\n  concat(\"<div>Hi \",firstname, \",\",\n  \"<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 你知道吗？ 你炒鸡炒鸡可爱的呢！ 就好像她一样哦！<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n  <img src=https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2F1c4d8ce9dfe40d03dca4d47c6b7fdbf970256cbf9c77f-zNDLvo_fw658&refer=http%3A%2F%2Fhbimg.b0.upaiyun.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1653034241&t=4ea23529dc4e7cb3eb8bcd0f879fa905 alt=\"\"/><br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n  Byzer天团喊你来敲代码啦 https://www.byzer.org/ </div><br/><hr/>from Lori's Byzer Notebook</div>\") as content\n\nfrom mailing_list\nas mail;\n\n--群发邮件\nrun mail as SendMultiMails.``\nwhere mailType = \"config\"\nand from = \"${USERNAME}\"\nand contentType=\"text/html\"\nand smtpHost = \"${HOST}\"\nand smtpPort = \"${PORT}\"\n-- 设置邮件客户端的协议为 SSL 协议，默认为 SSL 协议，也可选择 TLS 配置：\n-- and `properties.mail.smtp.starttls.enable`= \"true\"\nand `properties.mail.smtp.ssl.protocols`=\"TLSv1.2\"\nand `properties.mail.smtp.ssl.enable`= \"true\"\nand userName = \"${USERNAME}\"\nand password=\"${PWD}\"\n;","outputs":[]}]